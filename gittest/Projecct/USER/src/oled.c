#include "oled.h"


#if(!Font)
/*****************************************************
×ÖÌå¿â1: 128X64Òº¾§µ×²ãÇý¶¯
             
    ×Ö·û¿í¸ß [6 X 8]
    Ã¿Ò³×Ö·û [21 X 8]            

*****************************************************/



const uint8_t SmallChars[]=
{
    0x00, 0x3E, 0x51, 0x49, 0x45, 0x3E,//0   0
    0x00, 0x00, 0x42, 0x7F, 0x40, 0x00,//1 
    0x00, 0x42, 0x61, 0x51, 0x49, 0x46,//2  
    0x00, 0x21, 0x41, 0x45, 0x4B, 0x31,//3
    0x00, 0x18, 0x14, 0x12, 0x7F, 0x10,//4
    0x00, 0x27, 0x45, 0x45, 0x45, 0x39,//5
    0x00, 0x3C, 0x4A, 0x49, 0x49, 0x30,//6
    0x00, 0x01, 0x71, 0x09, 0x05, 0x03,//7
    0x00, 0x36, 0x49, 0x49, 0x49, 0x36,//8
    0x00, 0x06, 0x49, 0x49, 0x29, 0x1E,//9
    0x00, 0x7C, 0x12, 0x11, 0x12, 0x7C,//A   10
    0x00, 0x7F, 0x49, 0x49, 0x49, 0x36,//B
    0x00, 0x3E, 0x41, 0x41, 0x41, 0x22,//C
    0x00, 0x7F, 0x41, 0x41, 0x22, 0x1C,//D
    0x00, 0x7F, 0x49, 0x49, 0x49, 0x41,//E
    0x00, 0x7F, 0x09, 0x09, 0x09, 0x01,//F
    0x00, 0x3E, 0x41, 0x49, 0x49, 0x7A,//G
    0x00, 0x7F, 0x08, 0x08, 0x08, 0x7F,//H
    0x00, 0x00, 0x41, 0x7F, 0x41, 0x00,//I
    0x00, 0x20, 0x40, 0x41, 0x3F, 0x01,//J
    0x00, 0x7F, 0x08, 0x14, 0x22, 0x41,//K
    0x00, 0x7F, 0x40, 0x40, 0x40, 0x40,//L
    0x00, 0x7F, 0x02, 0x0C, 0x02, 0x7F,//M
    0x00, 0x7F, 0x04, 0x08, 0x10, 0x7F,//N
    0x00, 0x3E, 0x41, 0x41, 0x41, 0x3E,//O
    0x00, 0x7F, 0x09, 0x09, 0x09, 0x06,//P
    0x00, 0x3E, 0x41, 0x51, 0x21, 0x5E,//Q
    0x00, 0x7F, 0x09, 0x19, 0x29, 0x46,//R
    0x00, 0x46, 0x49, 0x49, 0x49, 0x31,//S
    0x00, 0x01, 0x01, 0x7F, 0x01, 0x01,//T
    0x00, 0x3F, 0x40, 0x40, 0x40, 0x3F,//U
    0x00, 0x1F, 0x20, 0x40, 0x20, 0x1F,//V
    0x00, 0x3F, 0x40, 0x38, 0x40, 0x3F,//W
    0x00, 0x63, 0x14, 0x08, 0x14, 0x63,//X
    0x00, 0x07, 0x08, 0x70, 0x08, 0x07,//Y
    0x00, 0x61, 0x51, 0x49, 0x45, 0x43,//Z   35
                                   
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00,//    36 ¿Õ¸ñ
    0x00, 0x00, 0x36, 0x36, 0x00, 0x00,// :  37
    0x00, 0x08, 0x08, 0x08, 0x08, 0x08,// -  38
    0x00, 0x20, 0x10, 0x08, 0x04, 0x02,// /  39
    0x00, 0x00, 0x60, 0x60, 0x00, 0x00,// .  40
    0x00, 0x00, 0x00, 0xA0, 0x60, 0x00,// ,  41
    0x00, 0x04, 0x02, 0x01, 0x02, 0x04,// ^  42
    0x08, 0x08, 0x08, 0x2A, 0x1C, 0x08,// -> 43
    
    0x00, 0x20, 0x54, 0x54, 0x54, 0x78,// a  44
    0x00, 0x7F, 0x48, 0x44, 0x44, 0x38,// b
    0x00, 0x38, 0x44, 0x44, 0x44, 0x20,// c
    0x00, 0x38, 0x44, 0x44, 0x48, 0x7F,// d
    0x00, 0x38, 0x54, 0x54, 0x54, 0x18,// e
    0x00, 0x08, 0x7E, 0x09, 0x01, 0x02,// f
    0x00, 0x18, 0xA4, 0xA4, 0xA4, 0x7C,// g                               
    0x00, 0x7F, 0x08, 0x04, 0x04, 0x78,// h
    0x00, 0x00, 0x44, 0x7D, 0x40, 0x00,// i
    0x00, 0x40, 0x80, 0x84, 0x7D, 0x00,// j
    0x00, 0x7F, 0x10, 0x28, 0x44, 0x00,// k
    0x00, 0x00, 0x41, 0x7F, 0x40, 0x00,// l 
    0x00, 0x7C, 0x04, 0x18, 0x04, 0x78,// m
    0x00, 0x7C, 0x08, 0x04, 0x04, 0x78,// n
    0x00, 0x38, 0x44, 0x44, 0x44, 0x38,// o
    0x00, 0xFC, 0x24, 0x24, 0x24, 0x18,// p
    0x00, 0x18, 0x24, 0x24, 0x18, 0xFC,// q
    0x00, 0x7C, 0x08, 0x04, 0x04, 0x08,// r
    0x00, 0x48, 0x54, 0x54, 0x54, 0x20,// s
    0x00, 0x04, 0x3F, 0x44, 0x40, 0x20,// t
    0x00, 0x3C, 0x40, 0x40, 0x20, 0x7C,// u
    0x00, 0x1C, 0x20, 0x40, 0x20, 0x1C,// v
    0x00, 0x3C, 0x40, 0x30, 0x40, 0x3C,// w
    0x00, 0x44, 0x28, 0x10, 0x28, 0x44,// x
    0x00, 0x1C, 0xA0, 0xA0, 0xA0, 0x7C,// y
    0x00, 0x44, 0x64, 0x54, 0x4C, 0x44 // z  69
    };

/********************************************************************************************
    ×ÖÌå¿â2: 128X64Òº¾§µ×²ãÇý¶¯
                 
        ×Ö·û¿í¸ß [8 X 16]
        Ã¿Ò³×Ö·û [16 X 4]            
*********************************************************************************************/
#else
const uint8_t LargeChars[] = 
{ 
  0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,//0  0
  0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//1  1
  0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,//2  2
  0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,//3  3
  0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,//4  4
  0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,//5  5
  0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,//6  6
  0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,//7  7
  0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,//8  8
  0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,//9  9
  
  0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,//A  10
  0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,//B  11
  0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,//C  12
  0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,//D  13
  0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,//E  14
  0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,//F  15
  0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,//G  16
  0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,//H  17
  0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//I  18
  0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,//J  19
  0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,//K  20
  0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,//L  21
  0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,//M  22
  0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,//N  23
  0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,//O  24
  0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,//P  25
  0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,//Q  26
  0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,//R  27
  0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,//S  28
  0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//T  29
  0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//U  30
  0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,//V  31
  0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,//W  32
  0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,//X  33
  0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//Y  34
  0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,//Z  35

  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//    36 ¿Õ¸ñ
  0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,// :  37
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,// -  38
  0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,// /  39
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,// .  40
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,// ,  41
  0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// ~  42 
  0x00,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,0x01,0x01,0x01,0x09,0x05,0x03,0x01,// -> 43
  
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,//a  44
  0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,//b  45
  0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,//c  46
  0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,//d  47
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,//e  48
  0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//f  49
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,//g  50
  0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//h  51 
  0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//i  52
  0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,//j  53
  0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,//k  54
  0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//l  55
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,//m  56
  0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//n  57
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//o  58
  0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,//p  59
  0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,//q  60
  0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,//r  61
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,//s  62
  0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,//t  63
  0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,//u  64
  0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,//v  65
  0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,//w  66
  0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,//x  67
  0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,//y  68
  0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00, //z  69
  0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,//< 70
  0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,//> 71
};


const uint8_t OLED_Chinese[][32]=
{
0x10,0x94,0x53,0x32,0x1E,0x32,0x52,0x10,0x00,0x7E,0x42,0x42,0x42,0x7E,0x00,0x00,
0x00,0x00,0x00,0xFF,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,0x00,/*"ÖÇ",0*/

0x08,0xCC,0x4A,0x49,0x48,0x4A,0xCC,0x18,0x00,0x7F,0x88,0x88,0x84,0x82,0xE0,0x00,
0x00,0xFF,0x12,0x12,0x52,0x92,0x7F,0x00,0x00,0x7E,0x88,0x88,0x84,0x82,0xE0,0x00,/*"ÄÜ",1*/

0x00,0x08,0x88,0x48,0x28,0x18,0x0F,0xE8,0x08,0x08,0x08,0x08,0x08,0x08,0x00,0x00,
0x08,0x08,0x09,0x09,0x09,0x09,0x09,0xFF,0x09,0x09,0x09,0x09,0x09,0x08,0x08,0x00,/*"³µ",2*/

0x10,0x0C,0x04,0x84,0x14,0x64,0x05,0x06,0xF4,0x04,0x04,0x04,0x04,0x14,0x0C,0x00,
0x04,0x84,0x84,0x44,0x47,0x24,0x14,0x0C,0x07,0x0C,0x14,0x24,0x44,0x84,0x04,0x00,/*"Êµ",3*/

0x02,0xFA,0x82,0x82,0xFE,0x80,0x40,0x20,0x50,0x4C,0x43,0x4C,0x50,0x20,0x40,0x00,
0x08,0x18,0x48,0x84,0x44,0x3F,0x40,0x44,0x58,0x41,0x4E,0x60,0x58,0x47,0x40,0x00,/*"Ñé",4*/

0x10,0x0C,0x24,0x24,0xA4,0x64,0x25,0x26,0x24,0x24,0xA4,0x24,0x24,0x14,0x0C,0x00,
0x40,0x40,0x48,0x49,0x49,0x49,0x49,0x7F,0x49,0x49,0x49,0x4B,0x48,0x40,0x40,0x00,/*"ÊÒ",5*/
};



	





#endif
/************************************** Internal Command *****************************************/

     
/*
 *  Êý¾ÝÐ´Èë
 */
void OLED_WrDat(uint8_t data)
{
    uint8_t i = 8;

    OLED_DC_OH;
    //asm ("nop");
    OLED_D0_OL;
    //asm ("nop"); 
    while (i --)
    {
        if (data & 0x80)
        {
            OLED_D1_OH;
        }
        else
        {
            OLED_D1_OL;
        }
        OLED_D0_OH; 
        //asm ("nop");
        //asm ("nop");
        OLED_D0_OL;    
        data <<= 1;    
    }
}

/*
 *  ÃüÁîÐ´Èë
 */
void OLED_WrCmd(uint8_t cmd)
{
    uint8_t i = 8;

    OLED_DC_OL;
    OLED_D0_OL;
    //asm ("nop");  
    while (i --)
    {
        if (cmd & 0x80)
        {
            OLED_D1_OH;
        }
        else
        {
            OLED_D1_OL;
        }
        OLED_D0_OH;
        //asm ("nop");
        //asm("nop");             
        OLED_D0_OL;    
        cmd <<= 1;  
    } 	
}

/*
 *  ×ø±êÉèÖÃ
 */
void OLED_Set_XY(uint8_t x, uint8_t y)
{ 
    OLED_WrCmd(0xb0 + y);
    OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
    OLED_WrCmd((x & 0x0f) | 0x01); 
}

/*
 *  ÇåÆÁº¯Êý
 */
void OLED_Clear(void)
{
    uint8_t y,x;	
    
    for (y=0; y<8; y++)
    {
        OLED_WrCmd(0xb0 + y);
        OLED_WrCmd(0x01);
        OLED_WrCmd(0x10); 
        for (x=0; x<X_WIDTH; x++)
        {
            OLED_WrDat(0);
        }
    }
}

void OLED_Clear_Part(uint8_t y,uint8_t x,uint8_t len_Y, uint8_t len_X)
{
	uint8_t i=0, j=0;
	for (j=y; j<y+len_Y; j++)
    {
        OLED_WrCmd(0xb0 + j);
        OLED_WrCmd(0x01);
        OLED_WrCmd(0x10); 
        for (i=x; i<x+len_X; i++)
        {
            OLED_WrDat(0);
        }
    }
}

/*
 *  ÑÓÊ±º¯Êý
 */
void OLED_Delay_ms(uint16_t ms)
{                         
    uint16_t a;

    while (ms)
    {
        a = 13350;
        while (a--);
        ms --;
    }
    return;
}




/*
 *  Òº¾§³õÊ¼»¯
 */
void OLED_Init(void)        
{
	  gpio_init (OLED_SCL, GPO,1);
    gpio_init (OLED_SDA, GPO,0);
    gpio_init (OLED_RST, GPO,1);
    gpio_init (OLED_DC , GPO,1);

    OLED_D0_OH; 	

    OLED_RST_OL;
    OLED_Delay_ms(50);
    OLED_RST_OH;

    /* ´ÓÉÏµçµ½ÏÂÃæ¿ªÊ¼³õÊ¼»¯ÒªÓÐ×ã¹»µÄÊ±¼ä£¬¼´µÈ´ýRC¸´Î»Íê±Ï */
    OLED_WrCmd(0xAE | 0x00);	 // Display Off (0x00)

    OLED_WrCmd(0xD5);		
    OLED_WrCmd(0x80);		     // Set Clock as 100 Frames/Sec

    OLED_WrCmd(0xA8);	
    OLED_WrCmd(0x3F);	         // 1/64 Duty (0x0F~0x3F)

    OLED_WrCmd(0xD3);	
    OLED_WrCmd(0x00);		     // Shift Mapping RAM Counter (0x00~0x3F)

    OLED_WrCmd(0x40 | 0x00);     // Set Mapping RAM Display Start Line (0x00~0x3F)

    OLED_WrCmd(0x8D);
    OLED_WrCmd(0x10 | 0x04);	 // Enable Embedded DC/DC Converter (0x00/0x04)

    OLED_WrCmd(0x20);
    OLED_WrCmd(0x02);		     // Set Page Addressing Mode (0x00/0x01/0x02)
		
		
		 
    OLED_WrCmd(0xA0 | 0x00);     // Set SEG/Column Mapping     0x00×óÓÒ·´ÖÃ 0x01Õý³£

    OLED_WrCmd(0xC0 | 0x00);     // Set COM/x Scan Direction   0x00ÉÏÏÂ·´ÖÃ 0x08Õý³£
	 

    OLED_WrCmd(0xDA);	
    OLED_WrCmd(0x02 | 0x10);     // Set Sequential Configuration (0x00/0x10)

    OLED_WrCmd(0x81);
    OLED_WrCmd(0xCF);	         // Set SEG Output Current

    OLED_WrCmd(0xD9);		 	
    OLED_WrCmd(0xF1);            // Set Pre-Charge as 15 Clocks & Discharge as 1 Clock

    OLED_WrCmd(0xDB);
    OLED_WrCmd(0x40);	         // Set VCOM Deselect Level

    OLED_WrCmd(0xA4 | 0x00);	 // Disable Entire Display On (0x00/0x01)

    OLED_WrCmd(0xA6 | 0x00);	 // Disable Inverse Display On (0x00/0x01)

    OLED_WrCmd(0xAE | 0x01);     // Display On (0x01)

    OLED_Clear();                //³õÊ¼ÇåÆÁ
    OLED_Set_XY(0,0); 
}
/********************************* End of Internal Command ***************************************/
 //Í¼Æ¬




/******************************************************************************
 º¯ÊýÃû³Æ £ºOLED_Write_Char
 ¹¦ÄÜÃèÊö £º×Ö·ûÏÔÊ¾
 ²ÎÊýËµÃ÷ £ºx  SmallChars(Ð¡×ÖÌå) -- (0 - 20)¹²21ÁÐ
               LargeChars(´ó×ÖÌå) -- (0 - 15)¹²16ÁÐ
            y  SmallChars(Ð¡×ÖÌå) -- (0 - 7) ¹² 8ÐÐ
               LargeChars(´ó×ÖÌå) -- (0 - 6) ¹² 4ÐÐ  ** yÖ»ÄÜÈ¡"0, 2, 4, 6" 4ÐÐ **
            c  ×ÖÌå¿âÖÐÈÎÒâ×Ö·û
 º¯Êý·µ»Ø £ºÎÞ
 ±¸    ×¢ £ºÎÞ
*******************************************************************************/





void OLED_Write_Char(uint8_t x, uint8_t y, uint8_t c) 
{
    uint8_t i;  	
#if(!Font)
    // ×ÖÌå¿â1 ÏÔÊ¾  Ð¡×ÖÌå 
    if ((c >= 'A') && (c <= 'Z'))
    {
        c = c - 'A' + 10;
    }
    else if ((c >= 'a') && (c <= 'z')) 
    {
        c = c - 'a' + 44;
    }
    else if (c == ' ')
    {
        c = 36;
    }
    else if (c == ':')
    {
        c = 37;
    }
    else if (c == '-')
    {
        c = 38;
    }
    else if (c == '/')
    {
        c = 39;
    }
    else if(c == '.')
    {
        c = 40;
    }
    else if (c == ',')
    {
        c = 41;
    }
    else if (c == '^')
    {
        c = 42;
    }

    if (x > 126) // > 126 µ±Ç°ÐÐ²»×ãÒÔÐ´ÍêÁíÒ»×Ö·û
    {
        x = 0;
        y ++;
    }

    OLED_Set_XY(x * 6, y);
    for (i=0; i<6; i++) 
    {
        OLED_WrDat(SmallChars[c * 6 + i]); 
    } 
#else
    /*×ÖÌå¿â2 ÏÔÊ¾  ´ó×ÖÌå*/
    if ((c >= 'A') && (c <= 'Z'))
    {
        c = c - 'A' + 10;
    }
    else if ((c >= 'a') && (c <= 'z'))
    {
        c = c - 'a' + 44;
    }
    else if (c == ' ')
    {
        c = 36;
    }
    else if (c == ':')
    {
        c = 37;
    }
    else if (c == '-')
    {
        c = 38;
    }
    else if (c == '/')
    {
        c = 39;
    }
    else if (c == '.')
    {
        c = 40;
    }
    else if (c == ',')
    {
        c = 41;
    }
    else if (c == '~')
    {
        c = 42;
    }
		else if (c == '>')              //Êµ¼ÊÊÇ->,Îª·½±ã¸ÄÎª>
    {
        c = 43;
    }
    else if(c == 128)
    {
        c=70;
    }
    else if(c == 129)
    {
        c=71;
    }
   

    if (x > 120)  // > 120 µ±Ç°ÐÐ²»×ãÒÔÐ´ÍêÁíÒ»×Ö·û
    {
        x = 0;
        y ++;
    }

    OLED_Set_XY(x * 8, y);
    for (i=0; i<8; i++) 
    {
        OLED_WrDat(LargeChars[c * 16 + i]); 
    }
    OLED_Set_XY(x * 8, y+1);
    for (i=0; i<8; i++) 
    {
        OLED_WrDat(LargeChars[c * 16 + i + 8]); 
    }	 	

#endif    
}

/******************************************************************************
 º¯ÊýÃû³Æ £ºOLED_Write_String
 ¹¦ÄÜÃèÊö £º×Ö·û´®ÏÔÊ¾
 ²ÎÊýËµÃ÷ £ºx  SmallChars(Ð¡×ÖÌå) -- (0 - 20)¹²21ÁÐ
               LargeChars(´ó×ÖÌå) -- (0 - 15)¹²16ÁÐ
            y  SmallChars(Ð¡×ÖÌå) -- (0 - 7) ¹² 8ÐÐ
               LargeChars(´ó×ÖÌå) -- (0 - 6) ¹² 4ÐÐ  ** yÖ»ÄÜÈ¡"0, 2, 4, 6" 4ÐÐ **
            *s ×Ö·û´®
 º¯Êý·µ»Ø £ºÎÞ
 ±¸    ×¢ £ºÎÞ
*******************************************************************************/   
void OLED_Write_String(uint8_t x, uint8_t y, uint8_t *s)
{
    uint8_t i;

    for (i=0; s[i]!='\0'; i++)
    {
        OLED_Write_Char(x + i, y, s[i]);
    }
} 

/******************************************************************************
 º¯ÊýÃû³Æ £ºOLED_Write_Num3
 ¹¦ÄÜÃèÊö £º3Î»Êý×ÖÏÔÊ¾
 ²ÎÊýËµÃ÷ £ºx   SmallChars(Ð¡×ÖÌå) -- (0 - 20)¹²21ÁÐ
                LargeChars(´ó×ÖÌå) -- (0 - 15)¹²16ÁÐ
            y   SmallChars(Ð¡×ÖÌå) -- (0 - 7) ¹² 8ÐÐ
                LargeChars(´ó×ÖÌå) -- (0 - 6) ¹² 4ÐÐ  ** yÖ»ÄÜÈ¡"0, 2, 4, 6" 4ÐÐ **
            num xxx  3Î»Êý×Ö
 º¯Êý·µ»Ø £ºÎÞ
 ±¸    ×¢ £ºÎÞ
*******************************************************************************/
void OLED_Write_Num3(uint8_t x, uint8_t y, uint16_t num)
{
    OLED_Write_Char(x,     y, num / 100);
    OLED_Write_Char(x + 1, y, num % 100 / 10);
    OLED_Write_Char(x + 2, y, num % 10);
} 

/******************************************************************************
 º¯ÊýÃû³Æ £ºOLED_Write_Char
 ¹¦ÄÜÃèÊö £º4Î»Êý×ÖÏÔÊ¾
 ²ÎÊýËµÃ÷ £ºx   SmallChars(Ð¡×ÖÌå) -- (0 - 20)¹²21ÁÐ
                LargeChars(´ó×ÖÌå) -- (0 - 15)¹²16ÁÐ
            y   SmallChars(Ð¡×ÖÌå) -- (0 - 7) ¹² 8ÐÐ
                LargeChars(´ó×ÖÌå) -- (0 - 6) ¹² 4ÐÐ  ** yÖ»ÄÜÈ¡"0, 2, 4, 6" 4ÐÐ **
            num xxxx  4Î»Êý×Ö
 º¯Êý·µ»Ø £ºÎÞ
 ±¸    ×¢ £ºÎÞ
*******************************************************************************/ 
void OLED_Write_Num4(uint8_t x, uint8_t y, uint16_t num)
{
    OLED_Write_Char(x,     y, num / 1000);
    OLED_Write_Char(x + 1, y, num % 1000 / 100);
    OLED_Write_Char(x + 2, y, num % 100 / 10);
    OLED_Write_Char(x + 3, y, num % 10);
} 


void OLED_Write_Num5(uint8_t x, uint8_t y, uint16_t num)
{
    OLED_Write_Char(x,     y, num / 10000);
    OLED_Write_Char(x + 1, y, num % 10000 / 1000);
    OLED_Write_Char(x + 2, y, num % 1000 / 100);
    OLED_Write_Char(x + 3, y, num % 100/10);
	  OLED_Write_Char(x + 4, y, num % 10);
} 

void OLED_Write_Num5_Revise(uint8_t x, uint8_t y, int num)
{
		if(num>=0)
		{
			OLED_Write_Char(x,y,' ');
			OLED_Write_Num5(x+1,y,num);
		}
		else
		{
			OLED_Write_Char(x,y,'-');
			OLED_Write_Num5(x+1,y,-num);
		}
}

void OLED_Write_Num2(uint8_t x, uint8_t y, uint8_t num)
{
    OLED_Write_Char(x , y, num % 100/10);
    OLED_Write_Char(x + 1, y, num % 10);
} 
void OLED_Write_Num1(uint8_t x, uint8_t y, uint8_t num)
{
    OLED_Write_Char(x , y, num % 10);
} 



/******************************************************************************
 º¯ÊýÃû³Æ £ºOLED_Write_Chinese
 ¹¦ÄÜÃèÊö £ººº×ÖÏÔÊ¾
 ²ÎÊýËµÃ÷ £ºx  SmallChars(Ð¡×ÖÌå) -- (0 - 20)¹²21ÁÐ
               LargeChars(´ó×ÖÌå) -- (0 - 15)¹²16ÁÐ
            y  SmallChars(Ð¡×ÖÌå) -- (0 - 7) ¹² 8ÐÐ
               LargeChars(´ó×ÖÌå) -- (0 - 6) ¹² 4ÐÐ  ** yÖ»ÄÜÈ¡"0, 2, 4, 6" 4ÐÐ **
            *s ×Ö·û´®
 º¯Êý·µ»Ø £ºÎÞ
 ±¸    ×¢ £ºÎÞ
*******************************************************************************/   

void OLED_Write_Chinese(uint8_t x, uint8_t y, uint8_t weiShu, uint8_t ziShu)
{
      int i=0, j=0; 		
    	for(j=0; j<ziShu-1; j++)
				{
					   OLED_Set_XY(x+j*16, y);
		         for(i=0;i<(weiShu/2);i++)
							{
								OLED_WrDat( OLED_Chinese[j][i]);
								OLED_Delay_ms(10);
							}
			       	OLED_Set_XY(x+j*16, y+1);
						 for(i=(weiShu/2);i<weiShu;i++)
							{
								OLED_WrDat(OLED_Chinese[j][i]);
					      OLED_Delay_ms(10);
							}							
				} 
}


void dis_bmp(uint16_t high, uint16_t width, uint8_t *p,uint8_t value)
{
    int16_t i,j;
    int16_t temp,temp1;
    uint8_t dat;
    
    
    temp1 = high%8;
    if(temp1 == 0) temp = high/8;
    else           temp = high/8+1;
    
 
    for(i=0; i<temp; i++)
    {
        OLED_Set_XY(0,i);
        for(j=0; j<width; j++)
        {
            dat = 0;
            if( i<(temp-1) || !temp1 || temp1>=1)dat |= (*(p+i*8*width+j+width*0) > value? 1: 0)<<0;
            if( i<(temp-1) || !temp1 || temp1>=2)dat |= (*(p+i*8*width+j+width*1) > value? 1: 0)<<1;
            if( i<(temp-1) || !temp1 || temp1>=3)dat |= (*(p+i*8*width+j+width*2) > value? 1: 0)<<2;
            if( i<(temp-1) || !temp1 || temp1>=4)dat |= (*(p+i*8*width+j+width*3) > value? 1: 0)<<3;
            if( i<(temp-1) || !temp1 || temp1>=5)dat |= (*(p+i*8*width+j+width*4) > value? 1: 0)<<4;
            if( i<(temp-1) || !temp1 || temp1>=6)dat |= (*(p+i*8*width+j+width*5) > value? 1: 0)<<5;
            if( i<(temp-1) || !temp1 || temp1>=7)dat |= (*(p+i*8*width+j+width*6) > value? 1: 0)<<6;
            if( i<(temp-1) || !temp1 || temp1>=8)dat |= (*(p+i*8*width+j+width*7) > value? 1: 0)<<7;
           
            OLED_WrDat(dat);
        }
    }
}

